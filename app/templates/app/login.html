{% extends "app/base.html" %}

{% block content %}
<title>{% block title %}Login{% endblock %}</title>

<section id="starter-section" class="starter-section section py-5">
    <div class="container">
        <div class="row justify-content-center align-items-center">
            <div class="col-md-8 col-lg-6 col-xl-4">
                <div class="card ">
                    <div class="card-body">
                        <h3 class="card-title text-center mb-4 font-weight-bold">Log In</h3>
                        
                        <form action="{% url 'app:login' %}" method="post">
                            {% csrf_token %}
                            
                            <!-- Email or Username -->
                            <div class="form-group mb-3">
                                <label for="email_username">Email or Username</label>
                                <input type="text" class="form-control" id="email_username" name="email_username" placeholder="Email or Username" required>
                            </div>
                            
                            <!-- Password -->
                            <div class="form-group mb-3">
                                <label for="password">Password</label>
                                <div class="input-group">
                                    <input type="password" class="form-control" id="password" name="password" placeholder="Password" required>
                                    <div class="input-group-append">
                                        <span class="input-group-text" onclick="togglePassword()">
                                            <i class="bx bx-hide eye-icon text-dark"></i>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            

                            <!-- Forgot Password -->
                            <div class="form-group text-right mb-3">
                                <a href="{% url 'app:forgot_password' %}" class="text-muted">Forgot Your Password?</a>
                            </div>

                            <!-- Error message -->
                            {% if message %}
                            <div class="alert alert-danger" role="alert">
                                {{ message }}
                            </div>
                            {% endif %}

                            <!-- Log In Button -->
                            <div class="form-group">
                                <button type="submit" class="btn btn-primary btn-block w-100" name="login">Log In</button>
                            </div>
                        </form>

                        <!-- Sign Up link -->
                        <div class="text-center mt-3">
                            <span>Don't have an account? <a href="{% url 'app:signup' %}" class="link signup-link text-primary">Sign Up</a></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Custom CSS for Eye Icon -->
<style>
    .eye-icon {
        cursor: pointer;
        font-size: 1.25rem; /* Adjust this to your preferred size */
        line-height: 1.5; /* Ensures vertical alignment */
    }

    .input-group-append .input-group-text {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%; /* Ensure the icon fills the height of the input field */
    }

    .input-group .form-control {
        height: 38px; /* Adjust based on your design, the default height of form-control might vary */
    }
</style>


<!-- Add toggle password function -->
<script>
    function togglePassword() {
        var passwordField = document.getElementById("password");
        var icon = document.querySelector(".eye-icon");
        if (passwordField.type === "password") {
            passwordField.type = "text";
            icon.classList.remove("bx-hide");
            icon.classList.add("bx-show");
        } else {
            passwordField.type = "password";
            icon.classList.remove("bx-show");
            icon.classList.add("bx-hide");
        }
    }
</script>

<!-- Boxicons Link for Icons -->
<link href="https://unpkg.com/boxicons@latest/css/boxicons.min.css" rel="stylesheet">

{% endblock %}

